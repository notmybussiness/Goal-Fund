# 목표한푼 PRD

문서 버전: v1.1  
작성일: 2026-02-23  
제품 단계: MVP

## 1. Product Vision

KR 개인 투자자가 "목표 금액/기한" 기준으로 현재 포트폴리오의 리스크 구조를 이해하고,
목표달성 확률과 실행 가능한 리밸런싱 액션을 받아 실제 행동으로 이어지게 한다.

## 2. Target Users

1. 국내 개인 투자자(주식/ETF/크립토 포함)
2. 수익률 중심 화면보다 목표달성 중심 의사결정을 원하는 사용자

## 3. Problem Statement

기존 투자 서비스는 수익률 요약은 제공하지만,
목표(금액/기한)와 리스크 구조를 한 화면에서 연결해 설명하지 못한다.

목표한푼은 목표-리스크-실행(리밸런싱)을 하나의 흐름으로 제공한다.

## 4. Goals and Non-goals

### Goals

1. 목표 생성/수정/조회
2. 포트폴리오 입력/조회
3. 리스크 기여도 및 요인 노출
4. 몬테카를로 기반 목표달성 확률 제공
5. 리밸런싱 제안 생성/조회
6. 코치형 인사이트 카드 제공

### Non-goals (MVP 1차 범위)

1. Sentinel AI/RAG/Backtest 전면 통합
2. 실거래 주문 연동
3. 브로커 API 직접 주문 실행

## 5. Success Metrics

1. 목표 생성 완료율 >= 75%
2. 목표 생성 -> 확률 계산 완료율 >= 60%
3. 시뮬레이션 API p95 <= 3s
4. 리스크 스냅샷 API p95 <= 500ms
5. 코어 도메인 테스트 통과율 = 100%
6. 배치 연속 무장애 실행 >= 7회

## 6. User Journey

1. 온보딩에서 목표 금액/기한/위험성향 입력
2. 포트폴리오와 보유 비중 입력
3. 코치 대시보드에서 목표 진행률/집중 리스크 확인
4. 시뮬레이션에서 목표달성 확률 확인
5. 리밸런싱 제안 저장 및 실행 계획 수립

## 7. Functional Requirements

1. 목표 CRUD (`/api/v1/goals`)
2. 포트폴리오/보유자산 등록 (`/api/v1/portfolios`, `/holdings`)
3. 리스크 스냅샷 조회 (`/api/v1/risk/snapshot`)
4. 시뮬레이션 실행/조회 (`/api/v1/simulation/runs`)
5. 리밸런싱 제안 생성/조회 (`/api/v1/rebalance/proposals`)
6. 코치 인사이트 조회 (`/api/v1/coach/insights`)

## 8. Non-functional Requirements

1. 인증 사용자 컨텍스트 기반 접근 제어
2. 금액/퍼센트 계산은 decimal 고정 스케일 사용
3. 배치는 idempotent + cursor 기반 재시작 가능
4. 핵심 API 응답시간 및 실패율 모니터링 필수
